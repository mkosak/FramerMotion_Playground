{"version":3,"sources":["assets/Table_Long.svg","assets/Table_13_Round.svg","assets/Table_2.svg","assets/Plant.svg","Layout.js","Refresh.js","index.js"],"names":["module","exports","__webpack_require__","p","Layout","Table_Long","Table_13_Round","Table_2","Plant","_ref","initData","shapes","onDragEnd","constraintsRef","useRef","handleDragEnd","shapeId","info","point","x","y","react_default","a","createElement","Fragment","motion","div","className","ref","map","shape","i","key","id","drag","dragConstraints","dragElastic","dragMomentum","event","src","url","alt","name","button","rest","scale","hover","pressed","arrow","rotate","transition","duration","Refresh","onClick","react","variants","initial","whileHover","whileTap","svg","width","height","xmlns","d","fill","fillRule","shapesList","App","_useState","useState","_useState2","Object","slicedToArray","count","setCount","_useState3","_useState5","_useState6","currentShapes","setCurrentShapes","_useState7","_useState8","setInitData","_useState9","_useState10","layoutData","setLayoutData","console","log","save","localStorage","setItem","JSON","stringify","useEffect","savedData","parse","getItem","Refresh_Refresh","newShapes","toConsumableArray","push","handleShapeClick","Layout_Layout","data","objectSpread","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d1ebe319.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Table_Long.2d6e510d.svg\";","module.exports = __webpack_public_path__ + \"static/media/Table_13_Round.47ffa361.svg\";","module.exports = __webpack_public_path__ + \"static/media/Table_2.6e443e05.svg\";","module.exports = __webpack_public_path__ + \"static/media/Plant.72493d01.svg\";","import React, { useRef, useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\n\nimport Table_Long from './assets/Table_Long.svg';\nimport Table_13_Round from './assets/Table_13_Round.svg';\nimport Table_2 from './assets/Table_2.svg';\nimport Plant from './assets/Plant.svg';\n\nconst shapesList = [\n    {\n        id: '3245325235',\n        name: 'Table Long',\n        url: Table_Long,\n    },\n    {\n        id: '3245325234',\n        name: 'Table 13 Round',\n        url: Table_13_Round,\n    },\n    {\n        id: '3245325233',\n        name: 'Table 2',\n        url: Table_2,\n    },\n    {\n        id: '3245325232',\n        name: 'Plant',\n        url: Plant,\n    },\n];\n\nexport const Layout = ({ initData, shapes, onDragEnd }) => {\n    // console.log('Layout');\n    const constraintsRef = useRef(null);\n    const handleDragEnd = (shapeId, info) => {\n        onDragEnd(shapeId, info.point.x, info.point.y);\n    };\n    // const [initDataToRender, setInitDataToRender] = useState([]);\n    // const [renderData, setRenderData] = useState(false);\n\n    // if (initData && Object.values(initData).length > 0) {\n    //     console.log('here');\n    //     const data = Object.values(initData).map((record) => {\n    //         return {\n    //             shape: shapesList.find((shape) => shape.id === record.shape.id),\n    //             x: record.x,\n    //             y: record.y,\n    //         };\n    //     });\n\n    //     if (data.length > 0) {\n    //         // console.log('has data', data);\n    //         setInitDataToRender(data);\n    //     }\n    // }\n\n    // console.log('initDataToRender', initDataToRender);\n\n    // useEffect(() => {\n    //     if (initDataToRender && initDataToRender.length > 0) {\n    //         console.log('render');\n    //         setRenderData(true);\n    //     }\n    // }, [initDataToRender]);\n\n    return (\n        <>\n            <motion.div className=\"drag-area\" ref={constraintsRef} />\n            {shapes.map((shape, i) => {\n                return (\n                    <motion.div\n                        key={shape.id + '_' + i}\n                        className=\"shape\"\n                        drag\n                        dragConstraints={constraintsRef}\n                        dragElastic={false}\n                        dragMomentum={false}\n                        onDragEnd={(event, info) => {\n                            handleDragEnd(shape, info);\n                        }}\n                    >\n                        <img src={shape.url} alt={shape.name} />\n                    </motion.div>\n                );\n            })}\n            {/* \n            {renderData &&\n                initDataToRender.length > 0 &&\n                initDataToRender.map((item, i) => {\n                    return <div key={item.shape.id + '_' + i}>{item.x}</div>;\n                    // <motion.div key={item.shape.id + '_' + i} className=\"shape\" initial={{ x: item.x, y: item.y }}>\n                    //     <img src={item.shape.url} alt={item.shape.name} />\n                    // </motion.div>\n                })} */}\n        </>\n    );\n};\n","import * as React from 'react';\nimport { motion } from 'framer-motion';\n\nconst button = {\n    rest: { scale: 1 },\n    hover: { scale: 1.1 },\n    pressed: { scale: 0.95 },\n};\nconst arrow = {\n    rest: { rotate: 0 },\n    hover: { rotate: 360, transition: { duration: 0.4 } },\n};\n\nexport const Refresh = ({ onClick }) => {\n    return (\n        <motion.div\n            className=\"refresh\"\n            onClick={onClick}\n            variants={button}\n            initial=\"rest\"\n            whileHover=\"hover\"\n            whileTap=\"pressed\"\n        >\n            <motion.svg width=\"16\" height=\"16\" xmlns=\"http://www.w3.org/2000/svg\" variants={arrow}>\n                <path\n                    d=\"M12.8 5.1541V2.5a.7.7 0 0 1 1.4 0v5a.7.7 0 0 1-.7.7h-5a.7.7 0 0 1 0-1.4h3.573c-.7005-1.8367-2.4886-3.1-4.5308-3.1C4.8665 3.7 2.7 5.85 2.7 8.5s2.1665 4.8 4.8422 4.8c1.3035 0 2.523-.512 3.426-1.4079a.7.7 0 0 1 .986.9938C10.7915 14.0396 9.2186 14.7 7.5422 14.7 4.0957 14.7 1.3 11.9257 1.3 8.5s2.7957-6.2 6.2422-6.2c2.1801 0 4.137 1.1192 5.2578 2.8541z\"\n                    fill=\"#fff\"\n                    fillRule=\"nonzero\"\n                />\n            </motion.svg>\n        </motion.div>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport { render } from 'react-dom';\nimport { Layout } from './Layout';\nimport { Refresh } from './Refresh';\n\nimport './styles.css';\n\nimport Table_Long from './assets/Table_Long.svg';\nimport Table_13_Round from './assets/Table_13_Round.svg';\nimport Table_2 from './assets/Table_2.svg';\nimport Plant from './assets/Plant.svg';\n\nconst shapesList = [\n    {\n        id: '3245325235',\n        name: 'Table Long',\n        url: Table_Long,\n    },\n    {\n        id: '3245325234',\n        name: 'Table 13 Round',\n        url: Table_13_Round,\n    },\n    {\n        id: '3245325233',\n        name: 'Table 2',\n        url: Table_2,\n    },\n    {\n        id: '3245325232',\n        name: 'Plant',\n        url: Plant,\n    },\n];\n\nconst App = () => {\n    const [count, setCount] = useState(0);\n    const [shapes] = useState(shapesList);\n    const [currentShapes, setCurrentShapes] = useState([]);\n    const [initData, setInitData] = useState();\n    const [layoutData, setLayoutData] = useState();\n\n    console.log('currentShapes', currentShapes);\n\n    const handleShapeClick = (shape) => {\n        // console.log('shape', shape);\n        const newShapes = [...currentShapes];\n        newShapes.push(shape);\n\n        setCurrentShapes(newShapes);\n    };\n\n    const handleDragEnd = (shape, x, y) => {\n        console.log('handleDragEnd', shape, x, y);\n\n        let data = { ...layoutData };\n        data[shape.id] = { shape, x, y };\n\n        // console.log('data', data);\n\n        setLayoutData(data);\n        save();\n    };\n\n    const save = () => {\n        // console.log('layoutData to set', layoutData);\n        localStorage.setItem('layoutData', JSON.stringify(layoutData));\n    };\n\n    useEffect(() => {\n        // console.log('load local', localStorage.getItem('layoutData'));\n        const savedData = JSON.parse(localStorage.getItem('layoutData'));\n        setInitData(savedData);\n\n        // console.log('savedData', savedData);\n    }, []);\n\n    console.log('initData', initData);\n\n    return (\n        <>\n            <Refresh onClick={() => setCount(count + 1)} />\n\n            <aside className=\"side-panel\">\n                <ul>\n                    {shapes.map((shape, i) => {\n                        return (\n                            <li key={shape.id + i}>\n                                <img src={shape.url} alt={shape.name} />{' '}\n                                <button\n                                    onClick={() => {\n                                        handleShapeClick(shape);\n                                    }}\n                                >\n                                    Add\n                                </button>\n                            </li>\n                        );\n                    })}\n                </ul>\n            </aside>\n\n            <Layout key={count} initData={initData} shapes={currentShapes} onDragEnd={handleDragEnd} />\n        </>\n    );\n};\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}